Index: app/Http/Controllers/AdminController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\nuse Illuminate\\Http\\Request;\r\n\r\nclass AdminController extends Controller\r\n{\r\n    public function approveNurse()\r\n    {\r\n\r\n    }\r\n\r\n    public function addRelation()\r\n    {\r\n\r\n    }\r\n\r\n    public function listPatient()\r\n    {\r\n\r\n    }\r\n\r\n    public function showPatient()\r\n    {\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/Http/Controllers/AdminController.php b/app/Http/Controllers/AdminController.php
--- a/app/Http/Controllers/AdminController.php	(revision a7e3bda6214f2d560749c96749c5d07e2799002d)
+++ b/app/Http/Controllers/AdminController.php	(date 1609681824726)
@@ -6,12 +6,12 @@
 
 class AdminController extends Controller
 {
-    public function approveNurse()
+    public function approveNurse(Request $request)
     {
 
     }
 
-    public function addRelation()
+    public function addRelation(Request $request)
     {
 
     }
Index: routes/api.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nuse App\\Http\\Controllers\\AuthController;\r\nuse App\\Http\\Controllers\\MateriController;\r\nuse App\\Http\\Controllers\\KontrolController;\r\nuse App\\Http\\Controllers\\AdminController;\r\nuse App\\Http\\Controllers\\AdviceController;\r\nuse App\\Http\\Controllers\\ChatController;\r\nuse App\\Http\\Controllers\\ForumController;\r\nuse App\\Http\\Controllers\\NurseController;\r\nuse App\\Http\\Controllers\\QuizController;\r\nuse App\\Http\\Controllers\\SurveyController;\r\nuse Illuminate\\Http\\Request;\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| API Routes\r\n|--------------------------------------------------------------------------\r\n|\r\n| Here is where you can register API routes for your application. These\r\n| routes are loaded by the RouteServiceProvider within a group which\r\n| is assigned the \"api\" middleware group. Enjoy building your API!\r\n|\r\n*/\r\n\r\n//Route::middleware('auth:api')->get('/user', function (Request $request) {\r\n//    return $request->user();\r\n//});\r\n\r\nRoute::get('/test', function () {\r\n    $now = now();\r\n    $date = \\Carbon\\Carbon::parse(\\App\\Models\\Role::find(10)->created_at);\r\n    $diff = $now->diffInDays($date);\r\n    $diff2 = $date->diffInDays($now);\r\n    return response()->json([\r\n        'now' => $now,\r\n        'date' => $date,\r\n        'diff'  => $diff,\r\n        'diff2' => $diff2,\r\n        'dayOfYear' => $date->dayOfYear,\r\n        'date2' => $date->format('Y-m-d H:i:s')\r\n    ]);\r\n});\r\n\r\n//login\r\nRoute::post('login', [AuthController::class, 'login']);\r\n\r\n//register nurse using web\r\n\r\n//all route that need auth token\r\nRoute::middleware('auth:sanctum')->group(function () {\r\n    //register the nurse or patient\r\n    Route::post('register', [AuthController::class, 'register']);\r\n    //assign materi for patient\r\n//    Route::get('/register/materi', [MateriController::class, 'listMateri']);\r\n    Route::post('/register/materi', [MateriController::class, 'assignMateri']);\r\n\r\n    //get the user details\r\n    Route::get('/user', [AuthController::class, 'user']);\r\n\r\n    //logout the user\r\n    Route::post('logout', [AuthController::class, 'logout']);\r\n\r\n    //kontrol\r\n    //store kontrol\r\n    Route::post('kontrol/store', [KontrolController::class, 'store']);\r\n    //list kontrol\r\n    Route::post('kontrol/index', [KontrolController::class, 'index']);\r\n    //show resume pulang\r\n    Route::post('kontrol/resume', [KontrolController::class, 'showResume']);\r\n    //show specific kontrol\r\n    Route::post('kontrol/show', [KontrolController::class, 'show']);\r\n    //update kontrol\r\n    Route::put('kontrol/update', [KontrolController::class, 'update']);\r\n    Route::put('kontrol/nurse_note', [KontrolController::class, 'nurse_note']);\r\n \r\n    //delete kontrol\r\n    Route::delete('kontrol/delete', [KontrolController::class, 'delete']);\r\n    //search kontrol\r\n\r\n    //materi\r\n    //store materi\r\n    Route::post('materi/store', [MateriController::class, 'store']);\r\n    //list category\r\n    Route::get('materi/category', [MateriController::class, 'listCategory']);\r\n    //list materi\r\n    Route::post('materi/index', [MateriController::class, 'index']);\r\n    //show specific materi\r\n    Route::post('materi/show', [MateriController::class, 'show']);\r\n    //update materi\r\n    Route::put('materi/update', [MateriController::class, 'update']);\r\n    //delete materi\r\n    Route::delete('materi/delete', [MateriController::class, 'delete']);\r\n    //search materi\r\n\r\n    //quiz\r\n    //store quiz\r\n    Route::post('quiz/store', [QuizController::class, 'store']);\r\n    //show specific quiz\r\n    Route::post('quiz/show', [QuizController::class, 'show']);\r\n    //update quiz\r\n    //delete quiz\r\n    //send the patient's answer\r\n    Route::post('quiz/answer/store', [QuizController::class, 'storeAnswer']);\r\n    //show patient's answer\r\n    Route::post('quiz/answer/show', [QuizController::class, 'showAnswer']);\r\n    //show quiz status to specific user\r\n    Route::post('quiz/status', [QuizController::class, 'showStatus']);\r\n\r\n    //forum\r\n    //store forum\r\n    Route::post('forum/store', [ForumController::class, 'store']);\r\n    //list topic\r\n    Route::get('forum/topic', [ForumController::class, 'listTopic']);\r\n    //list forum\r\n    Route::post('forum/index', [ForumController::class, 'index']);\r\n    //show specific forum\r\n    Route::post('forum/show', [ForumController::class, 'show']);\r\n    //update forum\r\n    Route::put('forum/update', [ForumController::class, 'update']);\r\n    //delete forum\r\n    Route::delete('forum/delete', [ForumController::class, 'delete']);\r\n    //add comment\r\n    Route::post('forum/comment/store', [ForumController::class, 'storeComment']);\r\n\r\n    //advice\r\n    //store advice\r\n    Route::post('advice/store', [AdviceController::class, 'store']);\r\n    //list advice\r\n    Route::get('advice/index', [AdviceController::class, 'index']);\r\n    //update advice\r\n    Route::put('advice/update', [AdviceController::class, 'update']);\r\n    //delete advice\r\n    Route::delete('advice/delete', [AdviceController::class, 'delete']);\r\n    //search advice\r\n    Route::post('advice/send_fcm', [AdviceController::class, 'send_fcm']);\r\n    //show notification\r\n    Route::get('advice/notification', [AdviceController::class, 'showNotification']);\r\n\r\n    //nurse - dashboard\r\n    Route::post('nurse/index', [NurseController::class, 'listPatient']);\r\n    //admin - dashboard\r\n\r\n    //survey - CRUD\r\n    //store survey\r\n    Route::post('survey/store', [SurveyController::class, 'store']);\r\n    //list survey\r\n    Route::get('survey/index', [SurveyController::class, 'index']);\r\n    //show spesific survey\r\n    Route::post('survey/show', [SurveyController::class, 'show']);\r\n    //update survey\r\n    Route::put('survey/update', [SurveyController::class, 'update']);\r\n    //delete survey\r\n    Route::delete('survey/delete', [SurveyController::class, 'delete']);\r\n    //store answer\r\n    Route::post('survey/answer/store', [SurveyController::class, 'storeAnswer']);\r\n\r\n    //chat\r\n\r\n});\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/routes/api.php b/routes/api.php
--- a/routes/api.php	(revision a7e3bda6214f2d560749c96749c5d07e2799002d)
+++ b/routes/api.php	(date 1609683411520)
@@ -46,8 +46,6 @@
 //login
 Route::post('login', [AuthController::class, 'login']);
 
-//register nurse using web
-
 //all route that need auth token
 Route::middleware('auth:sanctum')->group(function () {
     //register the nurse or patient
@@ -73,8 +71,8 @@
     Route::post('kontrol/show', [KontrolController::class, 'show']);
     //update kontrol
     Route::put('kontrol/update', [KontrolController::class, 'update']);
+    //add nurse note
     Route::put('kontrol/nurse_note', [KontrolController::class, 'nurse_note']);
- 
     //delete kontrol
     Route::delete('kontrol/delete', [KontrolController::class, 'delete']);
     //search kontrol
@@ -142,7 +140,7 @@
     Route::post('nurse/index', [NurseController::class, 'listPatient']);
     //admin - dashboard
 
-    //survey - CRUD
+    //survey
     //store survey
     Route::post('survey/store', [SurveyController::class, 'store']);
     //list survey
Index: app/Http/Controllers/AuthController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\nuse App\\Models\\NurseProfile;\r\nuse App\\Models\\PatientProfile;\r\nuse App\\Models\\Role;\r\nuse App\\Models\\User;\r\nuse Illuminate\\Http\\Request;\r\nuse Illuminate\\Support\\Facades\\Hash;\r\nuse Illuminate\\Validation\\ValidationException;\r\nuse App\\Http\\Resources\\User as UserRes;\r\n\r\nclass AuthController extends Controller\r\n{\r\n    public function register(Request $request)\r\n    {\r\n        $request->validate([\r\n            'role' => 'required',\r\n            'username' => 'required|unique:users',\r\n            'password' => 'required|alpha_num',\r\n\r\n//            'nurse_id' => 'required_if:role,patient',\r\n            'baby_name' => 'required_if:role,patient',\r\n            'baby_birthday' => 'required_if:role,patient',\r\n            'born_weight' => 'required_if:role,patient|integer',\r\n            'born_length' => 'required_if:role,patient|integer',\r\n            'baby_gender' => 'required_if:role,patient',\r\n            'mother_name' => 'required_if:role,patient',\r\n            'mother_birthday' => 'required_if:role,patient|date',\r\n            'mother_religion' => 'required_if:role,patient',\r\n            'mother_education' => 'required_if:role,patient',\r\n            'mother_job' => 'required_if:role,patient',\r\n            'paritas' => 'required_if:role,patient|integer',\r\n            'father_name' => 'required_if:role,patient',\r\n            'father_birthday' => 'required_if:role,patient|date',\r\n            'father_religion' => 'required_if:role,patient',\r\n            'father_education' => 'required_if:role,patient',\r\n            'father_job' => 'required_if:role,patient',\r\n\r\n            'nurse_name' => 'required_if:role,nurse',\r\n            'working_exp' => 'required_if:role,nurse|integer',\r\n            'education' => 'required_if:role,nurse',\r\n            'phone' => 'required_if:role,nurse',\r\n            'hospital_id' => 'required_if:role,nurse|integer',\r\n        ]);\r\n\r\n        if ($request->role == 'nurse') {\r\n            NurseProfile::create([\r\n                'name' => $request->input('nurse_name'),\r\n                'working_exp' => $request->input('working_exp'),\r\n                'education' => $request->input('education'),\r\n                'phone' => $request->input('phone'),\r\n                'hospital_id' => $request->input('hospital_id'),\r\n                'is_approved' => true,\r\n            ]);\r\n\r\n            $userable_id = NurseProfile::orderBy('id', 'desc')->pluck('id')->first();\r\n            $userable_type = 'App\\Models\\NurseProfile';\r\n        } elseif ($request->role == 'patient') {\r\n            $nurse = $request->user();\r\n            PatientProfile::create([\r\n                'baby_name' => $request->input('baby_name'),\r\n                'baby_birthday' => $request->input('baby_birthday'),\r\n                'born_weight' => $request->input('born_weight'),\r\n                'born_length' => $request->input('born_length'),\r\n                'baby_gender' => $request->input('baby_gender'),\r\n                'mother_name' => $request->input('mother_name'),\r\n                'mother_birthday' => $request->input('mother_birthday'),\r\n                'mother_religion' => $request->input('mother_religion'),\r\n                'mother_education' => $request->input('mother_education'),\r\n                'mother_job' => $request->input('mother_job'),\r\n                'paritas' => $request->input('paritas'),\r\n                'father_name' => $request->input('father_name'),\r\n                'father_birthday' => $request->input('father_birthday'),\r\n                'father_religion' => $request->input('father_religion'),\r\n                'father_education' => $request->input('father_education'),\r\n                'father_job' => $request->input('father_job'),\r\n                'status' => 'hospital',\r\n                'hospital_id' => $nurse->userable->hospital_id,\r\n            ]);\r\n\r\n            $userable_id = PatientProfile::orderBy('id', 'desc')->pluck('id')->first();\r\n            $userable_type = 'App\\Models\\PatientProfile';\r\n\r\n            NurseProfile::find($nurse->userable_id)->patients()->attach($userable_id);\r\n        }\r\n\r\n        User::create([\r\n            'role_id' => Role::where('name', $request->role)->value('id'),\r\n            'username' => $request->input('username'),\r\n            'password' => Hash::make($request->input('password')),\r\n            'email' => $request->input('email', null),\r\n            'userable_id' => $userable_id,\r\n            'userable_type' => $userable_type,\r\n        ]);\r\n\r\n        return response()->json([\r\n            'message' => 'account created',\r\n            'id' => $userable_id,\r\n        ]);\r\n    }\r\n\r\n    public function login(Request $request)\r\n    {\r\n        $request->validate([\r\n            'username' => 'required',\r\n            'password' => 'required',\r\n            'device_name' => 'required',\r\n        ]);\r\n\r\n        $user = User::where('username', $request->username)->first();\r\n\r\n        if (!$user || !Hash::check($request->password, $user->password)) {\r\n            throw ValidationException::withMessages([\r\n                'username' => ['The provided credentials are incorrect.'],\r\n            ]);\r\n        }\r\n\r\n        $token = $user->createToken($request->device_name)->plainTextToken;\r\n\r\n        $user->fcm_token = $request->input('fcm_token', null);\r\n        $user->save();\r\n\r\n        return response()->json([\r\n            'token' => $token,\r\n            'role' => $user->user_role,\r\n        ]);\r\n    }\r\n\r\n    public function logout(Request $request)\r\n    {\r\n        $username = $request->user()->username;\r\n        User::where('username', $username)->first()->tokens()->delete();\r\n\r\n        return response()->json([\r\n            'message' => 'logout successful'\r\n        ]);\r\n    }\r\n\r\n    public function resetPassword()\r\n    {\r\n\r\n    }\r\n\r\n    public function user(Request $request)\r\n    {\r\n        return new UserRes($request->user());\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/Http/Controllers/AuthController.php b/app/Http/Controllers/AuthController.php
--- a/app/Http/Controllers/AuthController.php	(revision a7e3bda6214f2d560749c96749c5d07e2799002d)
+++ b/app/Http/Controllers/AuthController.php	(date 1609694282196)
@@ -2,6 +2,7 @@
 
 namespace App\Http\Controllers;
 
+use App\Models\Hospital;
 use App\Models\NurseProfile;
 use App\Models\PatientProfile;
 use App\Models\Role;
@@ -147,4 +148,42 @@
     {
         return new UserRes($request->user());
     }
+
+    public function showRegisterPage()
+    {
+        $hospitals = Hospital::all();
+
+        return view('register', compact('hospitals'));
+    }
+
+    public function registerNurse(Request $request)
+    {
+        $request->validate([
+            'username' => 'required|unique:users',
+            'password' => 'required|confirmed|alpha_num',
+        ]);
+
+        NurseProfile::create([
+            'name' => $request->input('nurse_name'),
+            'working_exp' => $request->input('working_exp'),
+            'education' => $request->input('education'),
+            'phone' => $request->input('phone'),
+            'hospital_id' => $request->input('hospital_id'),
+            'is_approved' => false,
+        ]);
+
+        $userable_id = NurseProfile::orderBy('id', 'desc')->pluck('id')->first();
+        $userable_type = 'App\Models\NurseProfile';
+
+        User::create([
+            'role_id' => 20,
+            'username' => $request->input('username'),
+            'password' => Hash::make($request->input('password')),
+            'email' => $request->input('email', null),
+            'userable_id' => $userable_id,
+            'userable_type' => $userable_type,
+        ]);
+
+        return redirect('register')->with('status', 'Perawat berhasil register');
+    }
 }
Index: resources/views/register.blade.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/resources/views/register.blade.php b/resources/views/register.blade.php
new file mode 100644
--- /dev/null	(date 1609694365697)
+++ b/resources/views/register.blade.php	(date 1609694365697)
@@ -0,0 +1,100 @@
+<!doctype html>
+<html lang="en">
+<head>
+    <!-- Required meta tags -->
+    <meta charset="utf-8">
+    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
+
+    <!-- Bootstrap CSS -->
+    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
+
+    <title>register perawat</title>
+</head>
+<body>
+    <div class="container">
+        <div class="row mt-2">
+            <div class="col">
+                <h3>REGISTER PERAWAT</h3>
+                @if (session('status'))
+                    <div class="alert alert-success">
+                        {{ session('status') }}
+                    </div>
+                @endif
+                @if ($errors->any())
+                    <div class="alert alert-danger">
+                        <ul>
+                            @foreach ($errors->all() as $error)
+                                <li>{{ $error }}</li>
+                            @endforeach
+                        </ul>
+                    </div>
+                @endif
+                <form action="{{ route('register') }}" method="post">
+                    @csrf
+                    <div class="form-group">
+                        <label for="username">Username</label>
+                        <input type="text" class="form-control" id="username" name="username" placeholder="Masukkan username" required>
+                    </div>
+                    <div class="form-group">
+                        <label for="password">Password</label>
+                        <input type="password" class="form-control" id="password" name="password" placeholder="Masukkan password"
+                               required>
+                    </div>
+                    <div class="form-group">
+                        <label for="password_confirmation">Konfirmasi Password</label>
+                        <input type="password" class="form-control" id="password_confirmation" name="password_confirmation"
+                               placeholder="Masukkan ulang password" required>
+                    </div>
+                    <div class="form-group">
+                        <label for="email">Email</label>
+                        <input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp"
+                               placeholder="Masukkan email">
+                        <small id="emailHelp" class="form-text text-muted">*Email tidak wajib diisi.</small>
+                    </div>
+                    <div class="form-group">
+                        <label for="name">Nama Lengkap</label>
+                        <input type="text" class="form-control" id="name" name="nurse_name" placeholder="Masukkan nama lengkap anda"
+                               required>
+                    </div>
+                    <div class="form-group">
+                        <label for="working_exp">Pengalaman bekerja</label>
+                        <input type="number" class="form-control" id="working_exp" name="working_exp"
+                               placeholder="Masukkan dalam tahun, contoh: 2" required>
+                    </div>
+                    <div class="form-group">
+                        <label for="education">Tingkat Pendidikan</label>
+                        <Select class="form-control" id="education" name="education" required>
+                            <option value="sma">SMA Sederajat</option>
+                            <option value="diploma">Diploma</option>
+                            <option value="s1">Sarjana/S1</option>
+                            <option value="s2">Magister/S2</option>
+                            <option value="s3">Doktoral/S3</option>
+                        </Select>
+                    </div>
+                    <div class="form-group">
+                        <label for="phone">Nomor HP</label>
+                        <input type="tel" class="form-control" id="phone" name="phone" placeholder="contoh: 0812XXXXXXXX" required>
+                    </div>
+                    <div class="form-group">
+                        <label for="hospital">Rumah Sakit</label>
+                        <Select class="form-control" id="hospital" name="hospital_id" required>
+                            @foreach($hospitals as $hospital)
+                                <option value="{{ $hospital->id }}">{{ $hospital->name }}</option>
+                            @endforeach
+                        </Select>
+                    </div>
+                    <div class="text-sm-right">
+                        <button type="submit" class="btn btn-primary col-12 col-sm-3 col-md-2 col-lg-1">Daftar</button>
+                    </div>
+                </form>
+            </div>
+        </div>
+    </div>
+
+    <!-- Optional JavaScript -->
+    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
+    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
+    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
+    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
+</body>
+</html>
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"BranchesTreeState\">\r\n    <expand>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"LOCAL_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n    </expand>\r\n    <select />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"f9d15c0e-2715-4f8a-9bd7-8177490fd766\" name=\"Default Changelist\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/app/Console/Kernel.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/app/Console/Kernel.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/app/Http/Controllers/AuthController.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/app/Http/Controllers/AuthController.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/app/Http/Controllers/KontrolController.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/app/Http/Controllers/KontrolController.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/app/Models/PatientProfile.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/app/Models/PatientProfile.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/app/Models/User.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/app/Models/User.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/database/migrations/2020_12_10_040419_create_patient_profiles_table.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/database/migrations/2020_12_10_040419_create_patient_profiles_table.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/routes/api.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/routes/api.php\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\" doNotAsk=\"true\" synchronizationState=\"SYNCHRONIZE\">\r\n    <pharConfigPath>$PROJECT_DIR$/composer.json</pharConfigPath>\r\n    <execution />\r\n  </component>\r\n  <component name=\"EditorConfigPreviewManager\">\r\n    <editorConfig file=\"$PROJECT_DIR$/.editorconfig\" previewFile=\"$PROJECT_DIR$/app/Http/Controllers/MateriController.php\" />\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitSEFilterConfiguration\">\r\n    <file-type-list>\r\n      <filtered-out-file-type name=\"LOCAL_BRANCH\" />\r\n      <filtered-out-file-type name=\"REMOTE_BRANCH\" />\r\n      <filtered-out-file-type name=\"TAG\" />\r\n      <filtered-out-file-type name=\"COMMIT_BY_MESSAGE\" />\r\n    </file-type-list>\r\n  </component>\r\n  <component name=\"PackageJsonUpdateNotifier\">\r\n    <dismissed value=\"$PROJECT_DIR$/package.json\" />\r\n  </component>\r\n  <component name=\"PhpWorkspaceProjectConfiguration\">\r\n    <include_path>\r\n      <path value=\"$PROJECT_DIR$/vendor/fruitcake/laravel-cors\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/vlucas/phpdotenv\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpoption/phpoption\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/webmozart/assert\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/graham-campbell/result-type\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/ralouphie/getallheaders\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/guzzlehttp/promises\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/guzzlehttp/psr7\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/guzzlehttp/guzzle\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/code-unit\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/cli-parser\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/object-enumerator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/exporter\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/myclabs/deep-copy\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/object-reflector\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/environment\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/recursion-context\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/phpunit\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/comparator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-code-coverage\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/code-unit-reverse-lookup\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-file-iterator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/complexity\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-invoker\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/resource-operations\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-timer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/diff\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-text-template\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/type\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/lines-of-code\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/version\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/global-state\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/mockery/mockery\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/doctrine/lexer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/doctrine/instantiator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/doctrine/inflector\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/nesbot/carbon\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psy/psysh\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/theseer/tokenizer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/facade/flare-client-php\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/facade/ignition-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/facade/ignition\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/voku/portable-ascii\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/nikic/php-parser\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/opis/closure\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/laravel/sail\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/laravel/framework\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/laravel/tinker\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/brick/math\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/nunomaduro/collision\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/tijsverkoyen/css-to-inline-styles\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/league/flysystem\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/league/commonmark\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/league/mime-type-detection\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/http-message\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/asm89/stack-cors\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/http-client\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/log\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/simple-cache\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/event-dispatcher\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/container\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/dragonmantank/cron-expression\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/monolog/monolog\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpspec/prophecy\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/filp/whoops\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpdocumentor/type-resolver\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpdocumentor/reflection-docblock\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpdocumentor/reflection-common\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/ramsey/uuid\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/ramsey/collection\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/hamcrest/hamcrest-php\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/swiftmailer/swiftmailer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-intl-normalizer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/var-dumper\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-intl-grapheme\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-iconv\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/composer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/translation-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/console\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-php73\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/http-kernel\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-php72\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/event-dispatcher-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/process\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-intl-idn\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/deprecation-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/string\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/finder\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/egulias/email-validator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/mime\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/service-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-ctype\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-mbstring\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/translation\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/css-selector\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/dnoegel/php-xdg-base-dir\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/event-dispatcher\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/routing\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/http-client-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/http-foundation\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/error-handler\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-php80\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/fakerphp/faker\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phar-io/manifest\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/fideloper/proxy\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phar-io/version\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/laravel/sanctum\" />\r\n    </include_path>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1lQfsS4HVsEcvSjijIDGe9SJRmo\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"ASKED_ADD_EXTERNAL_FILES\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"nodejs_package_manager_path\" value=\"npm\" />\r\n    <property name=\"vue.rearranger.settings.migration\" value=\"true\" />\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"phpunit.xml\" type=\"PHPUnitRunConfigurationType\" factoryName=\"PHPUnit\">\r\n      <TestRunner scope=\"XML\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"f9d15c0e-2715-4f8a-9bd7-8177490fd766\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1607534444841</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1607534444841</updated>\r\n      <workItem from=\"1607534446934\" duration=\"129000\" />\r\n      <workItem from=\"1607572513830\" duration=\"3004000\" />\r\n      <workItem from=\"1607620747729\" duration=\"172000\" />\r\n      <workItem from=\"1607621093753\" duration=\"607000\" />\r\n      <workItem from=\"1607842747066\" duration=\"7128000\" />\r\n      <workItem from=\"1607849985512\" duration=\"1069000\" />\r\n      <workItem from=\"1607858053238\" duration=\"1274000\" />\r\n      <workItem from=\"1607876316521\" duration=\"4948000\" />\r\n      <workItem from=\"1607926989715\" duration=\"3771000\" />\r\n      <workItem from=\"1607958982543\" duration=\"2616000\" />\r\n      <workItem from=\"1607963521892\" duration=\"8284000\" />\r\n      <workItem from=\"1608020651104\" duration=\"1918000\" />\r\n      <workItem from=\"1608057070027\" duration=\"1190000\" />\r\n      <workItem from=\"1608111420788\" duration=\"1673000\" />\r\n      <workItem from=\"1608115089652\" duration=\"5987000\" />\r\n      <workItem from=\"1608196897756\" duration=\"22514000\" />\r\n      <workItem from=\"1608412403524\" duration=\"5903000\" />\r\n      <workItem from=\"1608442128370\" duration=\"3845000\" />\r\n      <workItem from=\"1608476721015\" duration=\"3111000\" />\r\n      <workItem from=\"1608496494526\" duration=\"1231000\" />\r\n      <workItem from=\"1608550158489\" duration=\"1304000\" />\r\n      <workItem from=\"1608615718009\" duration=\"1174000\" />\r\n      <workItem from=\"1608627115568\" duration=\"8238000\" />\r\n      <workItem from=\"1608915089760\" duration=\"3971000\" />\r\n      <workItem from=\"1608958610743\" duration=\"60366000\" />\r\n      <workItem from=\"1609262085953\" duration=\"10483000\" />\r\n      <workItem from=\"1609386233914\" duration=\"14889000\" />\r\n      <workItem from=\"1609430251601\" duration=\"1204000\" />\r\n      <workItem from=\"1609468694012\" duration=\"515000\" />\r\n      <workItem from=\"1609475145556\" duration=\"2930000\" />\r\n      <workItem from=\"1609485284527\" duration=\"4548000\" />\r\n      <workItem from=\"1609509430936\" duration=\"4123000\" />\r\n      <workItem from=\"1609520018915\" duration=\"17242000\" />\r\n      <workItem from=\"1609604802166\" duration=\"18740000\" />\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision a7e3bda6214f2d560749c96749c5d07e2799002d)
+++ b/.idea/workspace.xml	(date 1609694478055)
@@ -11,14 +11,12 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="f9d15c0e-2715-4f8a-9bd7-8177490fd766" name="Default Changelist" comment="">
+      <change afterPath="$PROJECT_DIR$/resources/views/register.blade.php" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/app/Console/Kernel.php" beforeDir="false" afterPath="$PROJECT_DIR$/app/Console/Kernel.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/Http/Controllers/AdminController.php" beforeDir="false" afterPath="$PROJECT_DIR$/app/Http/Controllers/AdminController.php" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/app/Http/Controllers/AuthController.php" beforeDir="false" afterPath="$PROJECT_DIR$/app/Http/Controllers/AuthController.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/app/Http/Controllers/KontrolController.php" beforeDir="false" afterPath="$PROJECT_DIR$/app/Http/Controllers/KontrolController.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/app/Models/PatientProfile.php" beforeDir="false" afterPath="$PROJECT_DIR$/app/Models/PatientProfile.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/app/Models/User.php" beforeDir="false" afterPath="$PROJECT_DIR$/app/Models/User.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/database/migrations/2020_12_10_040419_create_patient_profiles_table.php" beforeDir="false" afterPath="$PROJECT_DIR$/database/migrations/2020_12_10_040419_create_patient_profiles_table.php" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/routes/api.php" beforeDir="false" afterPath="$PROJECT_DIR$/routes/api.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/routes/web.php" beforeDir="false" afterPath="$PROJECT_DIR$/routes/web.php" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -219,7 +217,7 @@
       <workItem from="1609485284527" duration="4548000" />
       <workItem from="1609509430936" duration="4123000" />
       <workItem from="1609520018915" duration="17242000" />
-      <workItem from="1609604802166" duration="18740000" />
+      <workItem from="1609604802166" duration="29907000" />
     </task>
     <servers />
   </component>
Index: routes/web.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Web Routes\r\n|--------------------------------------------------------------------------\r\n|\r\n| Here is where you can register web routes for your application. These\r\n| routes are loaded by the RouteServiceProvider within a group which\r\n| contains the \"web\" middleware group. Now create something great!\r\n|\r\n*/\r\n\r\nRoute::get('/', function () {\r\n    return view('welcome');\r\n});\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/routes/web.php b/routes/web.php
--- a/routes/web.php	(revision a7e3bda6214f2d560749c96749c5d07e2799002d)
+++ b/routes/web.php	(date 1609693163059)
@@ -1,5 +1,6 @@
 <?php
 
+use App\Http\Controllers\AuthController;
 use Illuminate\Support\Facades\Route;
 
 /*
@@ -16,3 +17,6 @@
 Route::get('/', function () {
     return view('welcome');
 });
+
+Route::get('register', [AuthController::class, 'showRegisterPage']);
+Route::post('register', [AuthController::class, 'registerNurse'])->name('register');
